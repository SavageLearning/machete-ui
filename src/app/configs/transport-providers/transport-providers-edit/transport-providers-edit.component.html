<p-tabView>
  <p-tabPanel header="Transport Provider">
    <ng-container *ngIf="record$ | async as r">
      <p-card styleClass="p-mb-4">
        <ng-template pTemplate="title">
          <span>
            {{ r.text }}
          </span>
        </ng-template>
        <ng-template pTemplate="subtitle">
          <span> {{ tpHelperText }} </span>
        </ng-template>
        <div class="content">
          <form #editForm="ngForm" (ngSubmit)="save()">
            <div class="p-fluid p-formgrid p-grid">
              <div class="p-field p-col-12 p-input-filled">
                <span class="p-float-label">
                  <input
                    pInputText
                    [(ngModel)]="r.key"
                    id="key"
                    name="key"
                    required
                    autofocus
                    ngModel
                    pattern="^[a-z-0-9_.-]*$"
                    #key="ngModel"
                  />
                  <label for="key">Key</label>
                </span>
                <small class="p-error" *ngIf="!r.key">Key is required</small>
                <small class="p-error" *ngIf="key.errors?.pattern">No spaces or upper-case letters</small>
              </div>

              <div class="p-field p-col-12 p-input-filled">
                <span class="p-float-label">
                  <input
                    pInputText
                    [(ngModel)]="r.text"
                    id="text"
                    name="text"
                    required
                  />
                  <label for="text">Text</label>
                </span>
                <small class="p-error" *ngIf="submitted && !r.key"
                  >Text is required</small
                >
              </div>
            </div>
          </form>
        </div>
        <ng-template pTemplate="footer">
          <p-toolbar>
            <div class="p-toolbar-group-left">
              <button
                pButton
                pRipple
                class="p-button-raised p-mr-2"
                icon="pi pi-save"
                tooltipPosition="bottom"
                label="Save"
                [disabled]="key.errors?.pattern"
                (click)="save(r)"
              ></button>
              <button
                pButton
                pRipple
                class="p-button-warning p-button-raised"
                icon="pi pi-ban"
                tooltipPosition="bottom"
                label="Cancel"
                (click)="cancel()"
              ></button>
            </div>

            <div class="p-toolbar-group-right">
              <button
                pButton
                pRipple
                class="p-button-danger p-button-raised"
                icon="pi pi-times"
                tooltipPosition="bottom"
                label="Delete"
                (click)="confirm($event, r)"
              ></button>
              <p-confirmPopup></p-confirmPopup>
            </div>
          </p-toolbar>
        </ng-template>
      </p-card>
      <p-fieldset legend="System Fields" [toggleable]="true" [collapsed]="true">
        <div class="p-d-flex">
          <div class="p-mr-2 p-d-flex p-flex-column p-jc-start p-ai-center">
            <div>
              <p-chip>Record Id</p-chip>
            </div>
            <div>
              <span>
                {{ r.id }}
              </span>
            </div>
          </div>

          <p-divider layout="vertical"></p-divider>

          <div class="p-mr-2 p-d-flex p-flex-column p-jc-start p-ai-center">
            <div class="text-900 mb-3 font-medium">
              <p-chip>Created By</p-chip>
            </div>
            <span class="text-700 text-sm line-height-3">{{
              r.createdby
            }}</span>
          </div>

          <p-divider layout="vertical"></p-divider>

          <div class="p-mr-2 p-d-flex p-flex-column p-jc-start p-ai-center">
            <div class="text-900 mb-3 font-medium">
              <p-chip>Date Created</p-chip>
            </div>
            <span class="text-700 text-sm line-height-3">{{
              r.datecreated | date: "short"
            }}</span>
          </div>

          <p-divider layout="vertical"></p-divider>

          <div class="p-mr-2 p-d-flex p-flex-column p-jc-start p-ai-center">
            <div class="text-900 mb-3 font-medium">
              <p-chip>Updated By</p-chip>
            </div>
            <span class="text-700 text-sm line-height-3">
              {{ r.updatedby }}</span
            >
          </div>

          <p-divider layout="vertical"></p-divider>

          <div class="p-mr-2 p-d-flex p-flex-column p-jc-start p-ai-center">
            <div class="text-900 mb-3 font-medium">
              <p-chip>Date Updated</p-chip>
            </div>
            <span class="text-700 text-sm line-height-3">
              {{ r.dateupdated | date: "short" }}
            </span>
          </div>
        </div>
      </p-fieldset>
    </ng-container>
  </p-tabPanel>

  <p-tabPanel header="Availabilities">
    <p>
      Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium
      doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo
      inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.
      Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut
      fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem
      sequi nesciunt. Consectetur, adipisci velit, sed quia non numquam eius
      modi.
    </p>
  </p-tabPanel>
</p-tabView>
